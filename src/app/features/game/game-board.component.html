<!-- src/app/features/game/game-board.component.html -->
<div class="game-page">
  <div class="board-wrapper">
    <div
      class="board"
      [style.gridTemplateColumns]="'repeat(' + (board[0]?.length || 10) + ', 1fr)'"
      role="grid"
      aria-label="Tablero"
    >
      <!-- Franja amarilla de N filas -->
      <div
        class="threshold-band"
        [style.top.%]="bandTopPercent"
        [style.height.%]="bandHeightPercent">
      </div>

      <ng-container *ngFor="let row of board; let y = index; trackBy: trackByRow">
        <ng-container *ngFor="let cell of row; let x = index; trackBy: trackByCol">
          <div
            class="cell"
            [class.filled]="cell.occupied"
            [style.backgroundImage]="getImageUrl(x, y)"
            role="presentation">
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <app-hud
    class="hud"
    [score]="score"
    [lives]="lives"
    [nextPiece]="nextPiece"
    [timeLeftMs]="timeLeftMs"
    [canClose]="canClose"
    (closeBox)="closeBox()">
  </app-hud>
</div>
